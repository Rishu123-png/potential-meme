<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>School Attendance System</title>
<link rel="stylesheet" href="style.css">
<script type="module" src="script.js"></script>
</head>
<body>

<!-- =================== LOGIN PAGE =================== -->
<div id="loginPage" class="page">
  <h1>School Attendance</h1>
  <div class="auth-card">
    <input type="email" id="email" placeholder="Email"><br>
    <input type="password" id="password" placeholder="Password"><br>
    <button onclick="login()">Login</button>
    <button onclick="signup()">Sign Up</button>
    <p class="msg" id="loginMsg"></p>
  </div>
</div>

<!-- =================== DASHBOARD PAGE =================== -->
<div id="dashboardPage" class="page hidden">
  <div class="dashboard">
    <div class="teacher-header">
      <h2>Welcome <span id="teacherName"></span></h2>
      <button onclick="logout()" class="logoutBtn">Logout</button>
    </div>

    <!-- Subject Filter -->
    <label for="subjectFilter">Filter Students by Subject:</label>
    <select id="subjectFilter" onchange="loadStudents()"></select>

    <!-- Tabs -->
    <div id="tabs">
      <button onclick="showTab('studentsTab')">Students</button>
      <button onclick="showTab('attendanceTab')">Attendance</button>
      <button onclick="showTab('bunkersTab')">Top Bunkers</button>
    </div>

    <!-- =================== STUDENTS TAB =================== -->
    <div id="studentsTab" class="tabContent">
      <h3>Add Student</h3>
      <input type="text" id="studentName" placeholder="Student Name">
      <input type="text" id="studentClass" placeholder="Class">
      <select id="subjectFilterAdd"></select>
      <button onclick="addStudent()">Add Student</button>

      <h3>All Students</h3>
      <table id="studentsTable">
        <tr>
          <th>Name</th><th>Class</th><th>Subject</th><th>Attendance</th><th>Edit</th><th>Delete</th>
        </tr>
      </table>
    </div>

    <!-- =================== ATTENDANCE TAB =================== -->
    <div id="attendanceTab" class="tabContent hidden">
      <h3>Attendance History for <span id="modalStudentName"></span></h3>
      <label for="monthPicker">Select Month:</label>
      <input type="month" id="monthPicker" onchange="loadAttendanceMonth()">

      <table id="attendanceTable">
        <tr>
          <th>Date</th><th>Status</th><th>Mark Present</th><th>Mark Absent</th>
        </tr>
      </table>

      <button onclick="printReport()">Print Monthly Report</button>
    </div>

    <!-- =================== TOP BUNKERS TAB =================== -->
    <div id="bunkersTab" class="tabContent hidden">
      <h3>Top Bunkers</h3>
      <table id="bunkingTable">
        <tr><th>Name</th><th>Class</th><th>Subject</th><th>Absences</th></tr>
      </table>
    </div>
  </div>
</div>

</body>
</html>